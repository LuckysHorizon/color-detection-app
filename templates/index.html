<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Color Detection using python Open CV</h1>
            <p>Double-click to detect colors from the webcam or uploaded images.</p>
        </header>

        <div class="options">
            <!-- Image Upload Form -->
            <form id="uploadForm" action="{{ url_for('upload_image') }}" method="POST" enctype="multipart/form-data">
                <input type="file" name="image" accept="image/*" required>
                <button type="submit">Upload Image</button>
            </form>
            <!-- Button to activate webcam -->
            <button id="webcamButton">Use Webcam</button>
            <!-- New button to switch back to the uploaded image -->
            <button id="switchToImageButton" style="display:none;">Switch to Uploaded Image</button>
        </div>

        <div class="output" style="position: relative;">
            <canvas id="imageCanvas" width="600" height="400"></canvas>
            <div id="loadingOverlay" style="display: none;">
                <div class="spinner"></div>
            </div>

            <!-- Display area for the color result -->
            <div id="colorResult">
                <!-- Color preview box with color name -->
                <div class="color-preview-box">
                    <div class="color-box" id="colorPreview"></div>
                    <span class="color-label" id="color_name">Detected Color</span> <!-- Added color name span -->
                </div>

                <!-- Separate boxes for each color value -->
                <div class="color-values">
                    <div class="color-value-box">
                        <span class="label">RGB</span>
                        <span id="rgbValue">0, 0, 0</span>
                    </div>
                    <div class="color-value-box">
                        <span class="label">HEX</span>
                        <span id="hexValue">#000000</span>
                    </div>
                    <div class="color-value-box">
                        <span class="label">HSL</span>
                        <span id="hslValue">0°, 0%, 0%</span>
                    </div>
                    <div class="color-value-box">
                        <span class="label">HSV</span>
                        <span id="hsvValue">0°, 0%, 0%</span>
                    </div>
                    <div class="color-value-box">
                        <span class="label">CMYK</span>
                        <span id="cmykValue">0%, 0%, 0%, 100%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
